"use strict";angular.module("starWarsApp",["ngAnimate","ngRoute","giphy","characterDetail","characterList","ne.swapi"]),angular.module("starWarsApp").config(["$locationProvider","$routeProvider",function(a,b){a.hashPrefix("!"),b.when("/characters/filter/:filter/:filterid/page/:page",{template:"<character-list></character-list>"}).when("/characters/page/:page",{template:"<character-list></character-list>"}).when("/characters/:characterId",{template:"<character-detail></character-detail>"}).otherwise("/characters/page/1")}]),angular.module("starWarsApp").animation(".characters",function(){function a(a,b,c){if("selected"===b)return a.css({display:"block",position:"absolute",top:500,left:0}).animate({top:0},c),function(b){b&&a.stop()}}function b(a,b,c){if("selected"===b)return a.css({position:"absolute",top:0,left:0}).animate({top:-500},c),function(b){b&&a.stop()}}return{addClass:a,removeClass:b}}),angular.module("giphy",["ngResource"]),angular.module("giphy").factory("Giphy",["$resource",function(a){return a("https://api.giphy.com/v1/gifs/random?api_key=dc6zaTOxFJmzC&tag=:tag")}]),angular.module("characterList",["ngRoute","giphy","ne.swapi"]),angular.module("characterList").component("characterList",{templateUrl:"character-list/character-list.template.html",controller:["$routeParams","Giphy","swapi",function(a,b,c){var d=this;d.page=+a.page,d.per_page=10,d.makePagination=function(a){d.base_url=a,d.pages_count=Math.ceil(d.total/d.per_page),d.pages=[];for(var b=1;b<=d.pages_count;b++)d.pages.push({num:b,url:a+"/page/"+b})},d.postFilter=function(a){var c=a.url.match(/\d+/i);a.id=c[0],b.get({tag:a.name},function(b){a.imageUrl=b.data.fixed_width_small_url})},a.filter?(d.filter=a.filter,d.filterid=a.filterid,c[d.filter].id(d.filterid).then(function(a){a.characters||(a.characters=a.pilots),d.total=a.characters.length,d.filtername=a.title,d.characters=[],a.characters.splice((d.page-1)*d.per_page,d.per_page).forEach(function(a){c.get(a).then(function(a){d.characters.push(a),d.postFilter(d.characters[d.characters.length-1]),d.makePagination("#!/characters/filter/"+d.filter+"/"+d.filterid)})})})):d.characters=c.people.page(d.page).then(function(a){d.total=a.count,1===d.page&&(d.per_page=a.results.length),d.characters=a.results,d.characters.forEach(d.postFilter),d.makePagination("#!/characters")})}]}),angular.module("characterDetail",["ngRoute","giphy","ne.swapi"]),angular.module("characterDetail").component("characterDetail",{templateUrl:"character-detail/character-detail.template.html",controller:["$routeParams","Giphy","swapi",function(a,b,c){var d=this;d.fillObjects=function(a,b){d[a]=[],b.forEach(function(b){c.get(b).then(function(b){var c=b.url.match(/\d+/i);b.id=c[0],d[a].push(b)})})},d.character=c.people.id(a.characterId).then(function(a){d.character={};for(var c in a)switch(typeof a[c]){case"object":d.fillObjects(c,a[c]);break;default:d.character[c]=a[c]}b.get({tag:a.name},function(a){d.imageUrl=a.data.fixed_width_downsampled_url})})}]});